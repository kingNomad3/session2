#!/bin/bash

#Vérifie si un nom d'utilisateur est spécifié
if [ -z "$1" ]
then
    echo "<p>Le compte doit avoir un nom d'utilisateur</p><br>"
    exit
fi

# Vérifie si un mot de passe est spécifié
if [ -z "$2" ] 
then
   echo "<p>Le compte doit avoir un mot de passe</p><br>"
   exit
fi

#creer un utilisateur
useradd -m -s /bin/bash $1 

echo "<p>L'utilisateur $1 a été créé avec succès.</p><br>"

# Spécifie le mot de passe pour l'utilisateur
echo -e "$2\n$2" | passwd  "$1"
echo "<p>Le mot de passe pour l'utilisateur $1 a été créé avec succès.</p><br>"

#Verifie si le group existe
if ! grep -q "^cvmgroup:" /etc/group
then
   groupadd cvmgroup
fi
# Modifie le groupe de l'utilisateur pour cvmgroup
usermod -g cvmgroup "$1"






  

    